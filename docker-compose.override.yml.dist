version: '2.3'
services:
  web:
    build:
      args:
        DEVELOPMENT_MODE: 'true'
        RUN_BUILD: 'false'
    ports:
      - '80:80'
      - '443:443'
    environment:
      XDEBUG_REMOTE_ENABLED: 'true'
      XDEBUG_REMOTE_HOST: '10.254.254.254'
      XDEBUG_REMOTE_PORT: '9000'
      XDEBUG_REMOTE_AUTOSTART: 'true'
      TIDEWAYS_ENABLED: 'true'
      DEVELOPMENT_MODE: 'true'
      RUN_BUILD: # get from host env
    volumes:
      - ./tools/assets:/app/tools/assets

  mysql:
    ports:
      - '3306:3306'

  mailcatcher:
    ports:
      - '1080:1080'

  sshforward:
    ports:
      - '2222:22'
